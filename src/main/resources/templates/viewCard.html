<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Card Information</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
</head>
<body>
<div class="top-bar">
    <style>
        .top-bar {
            background-color: #333;
            color: #fff;
            padding: 10px;
        }

        .top-bar ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }

        .top-bar li {
            display: inline;
        }

        .top-bar li a {
            color: #fff;
            text-decoration: none;
            padding: 10px;
        }

        .top-bar li a:hover {
            background-color: #555;
        }

    </style>

    <ul>
        <li><a href="/buy-card-page">buy cards</a></li>
        <li><a href="/get-my-cards">my cards</a></li>
        <li><a href="/my-profile">my profile</a></li>
        <li><a href="/create-party-of-player">create party</a></li>
        <li><a href="/connexion">connexion</a></li>
        <li><a href="/create-user">create account</a></li>
    </ul>
</div>
<!--<div>
    <h1>Card Information</h1>
    <p><strong>Affinity:</strong> <span th:text="${cardData.affinity}"></span></p>
    <p><strong>Name:</strong> <span th:text="${cardData.name}"></span></p>
    <p><strong>Description:</strong> <span th:text="${cardData.description}"></span></p>
    <p><strong>Family:</strong> <span th:text="${cardData.family}"></span></p>
    <p><strong>Image URL:</strong> <span th:text="${cardData.imgUrl}"></span></p>
    <p><strong>Small Image URL:</strong> <span th:text="${cardData.smallImgUrl}"></span></p>
    <p><strong>Energy:</strong> <span th:text="${cardData.energy}"></span></p>
    <p><strong>HP:</strong> <span th:text="${cardData.hp}"></span></p>
    <p><strong>Defence:</strong> <span th:text="${cardData.defence}"></span></p>
    <p><strong>Attack:</strong> <span th:text="${cardData.attack}"></span></p>
    <p><strong>Price:</strong> <span th:text="${cardData.price}"></span></p>
    <p><strong>User ID:</strong> <span th:text="${cardData.userId}"></span></p>
</div>-->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function() {
        // Get the card ID from the URL
        var cardId = window.location.pathname.split('/').pop();

        // Make an AJAX GET request to the view-card route
        $.ajax({
            url: "/card/" + cardId,
            type: "GET",
            success: function(data) {
                displayCardData(data.response);
            }
        });
    });

    function displayCardData(cardData) {
        var cardInfoContainer = $("<div></div>");

        var cardTitle = $("<h1></h1>").text("Card Information");
        cardInfoContainer.append(cardTitle);

        var affinity = $("<p><strong>Affinity:</strong> <span></span></p>").find("span").text(cardData.affinity).end();
        cardInfoContainer.append(affinity);

        var name = $("<p><strong>Name:</strong> <span></span></p>").find("span").text(cardData.name).end();
        cardInfoContainer.append(name);

        var description = $("<p><strong>Description:</strong> <span></span></p>").find("span").text(cardData.description).end();
        cardInfoContainer.append(description);

        var family = $("<p><strong>Family:</strong> <span></span></p>").find("span").text(cardData.family).end();
        cardInfoContainer.append(family);

        var imgUrl = $("<p><strong>Image URL:</strong> <span></span></p>").find("span").text(cardData.imgUrl).end();
        cardInfoContainer.append(imgUrl);

        var smallImgUrl = $("<p><strong>Small Image URL:</strong> <span></span></p>").find("span").text(cardData.smallImgUrl).end();
        cardInfoContainer.append(smallImgUrl);

        var energy = $("<p><strong>Energy:</strong> <span></span></p>").find("span").text(cardData.energy).end();
        cardInfoContainer.append(energy);

        var hp = $("<p><strong>HP:</strong> <span></span></p>").find("span").text(cardData.hp).end();
        cardInfoContainer.append(hp);

        var defence = $("<p><strong>Defence:</strong> <span></span></p>").find("span").text(cardData.defence).end();
        cardInfoContainer.append(defence);

        var attack = $("<p><strong>Attack:</strong> <span></span></p>").find("span").text(cardData.attack).end();
        cardInfoContainer.append(attack);

        var price = $("<p><strong>Price:</strong> <span></span></p>").find("span").text(cardData.price).end();
        cardInfoContainer.append(price);

        var userId = $("<p><strong>User ID:</strong> <span></span></p>").find("span").text(cardData.userId).end();
        cardInfoContainer.append(userId);

        $("body").append(cardInfoContainer);
    }
</script>
</body>
</html>